---
layout: post
title:  javascript中with的用法
category : 技术
tag : javascript
kw : with,javascript with,javascript with用法,js with,js with用法，with怎么使用
---


在面向对象的JS和一些其他的很多场景会遇到同时针对同一个对象的N个属性取值或设置N个属性的值,你会发现出现了很多的重复的代码,简直就是丧心病狂.. 如下

 {% highlight javascript %}
	//声明 了一个user对象
	var user={
		name:'user1',
		age:20,
		sex:1
		//.....可能还有n字段
	};
	
	console.info(user.name);//打印name
	console.info(user.age);//打印age
	console.info(user.sex);//打印sex
	//console.info(user....);//可能会打印更多的信息
	
 {% endhighlight %}

![]({{site.staticUrl1}}/images/2015/09/2015-09-09-js.with-1.jpg)

虽然简单易读 但不要我们追求的风格，那么接下来使用`with`看看有什么样的变化呢

 {% highlight javascript %}
	var user={
		name:'user1',
		age:20,
		sex:1
		//.....可能还有n字段
	};
	//这样就不用没有显式的调用属性了。
    with (user){
       console.info(name);
       console.info(age);
       console.info(sex);
	   console.info(this);//打印一下作用域是谁呢?
	  
      //.......................
    }
	
 {% endhighlight %}

完美 又离简单明了的JS代码又近了一步。这算是进步吗?

示例地址:<a href="https://cqweclick.github.io/jswithdemo.html" target="_blank">jswithdemo.html</a>





