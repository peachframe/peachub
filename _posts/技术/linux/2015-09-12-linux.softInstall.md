---
layout: post
title: Linux 软件的常用安装方法
categories : [技术,linux]
tags : [linux,linux软件安装]
kw : linux,linux软件安装,linux 安装,软件安装,linux怎么安装软件
---

对于操作系统而言,如果没有软件和一些任务算法 那么这个系统意义是不大的。而我们使用操作系统目的是为了让一些软件和任务能够运行在系统上,从而帮助我们提高工作的效率。

在Linux系统中常用的软件安装方式有`yum` `rpm` `gcc（编译源码安装）` 这3种方式，以下内容将对着3种安装方式做详细的介绍。

![]({{site.staticUrl1}}/images/2015/09/2015-09-12-linux.softInstall-1.gif)

**yum 方式**

`yum`这种安装方式是最简单高效(会自动帮你分析软件的依赖关系)的,但是它会依赖网络 
 
 语法:yum [options] [command] [package ...]
 
 升级您的操作系统 因为没有指定具体的软件包,会默认升级当然的操作系统。

 {% highlight HTML %}
	yum update
 {% endhighlight %}

 在互联网中查找httpd 软件包 如果找到了 会把相关的软件名称全部显示在下面 如以下搜索httpd返回了 httpd.x86_64、httpd-devel.i686、httpd-devel.x86_64 等

 {% highlight HTML %}
	yum search  httpd
	......
	============================== N/S Matched: httpd ==============================
	libmicrohttpd-devel.i686 : Development files for libmicrohttpd
	libmicrohttpd-devel.x86_64 : Development files for libmicrohttpd
	libmicrohttpd-doc.noarch : Documentation for libmicrohttpd
	httpd.x86_64 : Apache HTTP Server
	httpd-devel.i686 : Development interfaces for the Apache HTTP server
	httpd-devel.x86_64 : Development interfaces for the Apache HTTP server
	httpd-manual.noarch : Documentation for the Apache HTTP server
	httpd-tools.x86_64 : Tools for use with the Apache HTTP Server
	libmicrohttpd.i686 : Lightweight library for embedding a webserver in
	......
 {% endhighlight %}
 
 因为我的系统是64位的 所在我选择 `httpd.x86_64` 这个版本进行安装

 {% highlight HTML %}
   yum install  httpd.x86_64
 {% endhighlight %}

 升级软件包

 {% highlight HTML %}
   yum update  httpd.x86_64
 {% endhighlight %}

 列出本机已安装的软件包 后面可以带追加指定的软件包 如 yum list httpd 查看httpd软件的信息。

 {% highlight HTML %}
   yum list 
   ....
   yum list httpd
 {% endhighlight %}
 
 卸载软件httpd

 {% highlight HTML %}
   yum remove httpd 
 {% endhighlight %}

由于yum 安装方式是非常依赖网络的,这个网络仓库默认为系统提供方的镜像地址,很显然centos的默认仓库是在国外的,在国内访问比较慢。下面将它的镜像切换为国内镜像,目前在国内有`阿里云`、`163` 这些都资源都比较全,以阿里云的镜像为例 使用浏览器打开`http://mirrors.aliyun.com` 找到对应的操作系统及对应的版本号

1、在切换新的镜像之前 需要先将当然的镜像备份一下,以免后再次使用。

 {% highlight HTML %}
	mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
 {% endhighlight %}

2、下载新的镜像文件 使用 wget 下载对应的版本的系统

 {% highlight HTML %}
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo
 {% endhighlight %}

3、运行yum makecache 生成缓存

 {% highlight HTML %}
	yum makecache
	...
 {% endhighlight %}

**rpm 方式安装**

`rpm`不会自动分析依赖关系,并且需要准备一个.rpm软件包,所以你在使用rpm安装软件的时候经常会先安装依赖的软件,这么才能安装成功。其实依赖的软件也可以使用`yum`来安装,rpm对软件的查询提供了很好的支持,当然查询是指已安装的软件,列举几个常用的查询软件的方式。

| 名称                          | 说明                    | 示例                   |
| ---------------------------- |:-----------------------:| ----------------------:|
|rpm -qa                       | 查询系统中所有的软件包     |                        |
|rpm -q httpd                  | 查找指定软件包有木有安装   |                        |
|rpm -qi                       | 查询软件包的详细信息      |                        |
|rpm -ql httpd                 | 查看httpd的安装的所有文件  |                        |
|rpm -qf                       | 查找指定文件所属在软件包    |                        |
|rpm -qpi                      | 查询指定RPM文件的详细信息  |                          |
|rpm -qpl                      |查询指定RPM包的详细文件信息  |                          |

安装软件包

`rpm -i  `  安装软件包

`rpm -ivh ` 安装软件包的时候会显示更多的日志信息 一般使用这个,因为日志足够详细。

更新软件包

`rpm -U `更新软件

卸载软件包

`rpm -e  ` 卸载软件包

**gcc源码安装方式**

使用gcc安装方式必须要保证系统有`gcc`运行环境。

使用gcc -v来检测机器是否安装gcc环境。输出如下信息则已经安装了gcc 。如果没有安装可以使用 yum 方式安装gcc.

 {% highlight HTML %}
	[root@localhost ~]# gcc -v
	Using built-in specs.
	Target: x86_64-redhat-linux
	Configured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-
	...
	gcc version 4.4.7 20120313 (Red Hat 4.4.7-4) (GCC) 
 {% endhighlight %}

使用源码的安装方式有如下流程

1. 获取源代码 (可以使用wget直接下载 也可以从FTP等方式得到源码)
2. 解压源码
3. 验证configre   `./configre`会提示找不到依赖库 。如果提示找不到 就使用yum安装就是。
4. 编译源码 make 
5. 安装软件 make install

网上有很多源码安装示例都是使用nginx为例,所以这里也以nginx为例。

假如这里已经得到了nginx的源码，并解压到/usr/local/nginx1.6

进入/usr/local/nginx1.6 执行./configre 这过程中会有提示找不到依赖库 依次使用yum安装。

编译编码 make

安装 make install

如果顺利应该是安装成功了。


这里介绍了3种方式安装应用软件,其中最常用的是yum 因为它最方便、以后如果在允许的情况的都应用使用yum方式来安装,因为会为我们节约很多时间。


