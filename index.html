<!DOCTYPE html><html><head><meta charset="utf-8"><title>笑松小站 | 写我喜欢 读我所爱</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="笑松小站,写我喜欢 读我所爱,"><meta name="description" content="个人博客,陶小松,笑松,笑松小站,笑松的小站,笑松博客,笑松的博客,小松的网络日志,技术博客"><meta property="og:type" content="website"><meta property="og:title" content="笑松小站"><meta property="og:url" content="http://blog.seoui.com/index.html"><meta property="og:site_name" content="笑松小站"><meta property="og:description" content="个人博客,陶小松,笑松,笑松小站,笑松的小站,笑松博客,笑松的博客,小松的网络日志,技术博客"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="笑松小站"><meta name="twitter:description" content="个人博客,陶小松,笑松,笑松小站,笑松的小站,笑松博客,笑松的博客,小松的网络日志,技术博客"><link rel="alternative" href="/atom.xml" title="笑松小站" type="application/atom+xml"><link rel="alternative" href="/sitemap.xml" title="笑松小站" type="application/atom+xml"><meta name="summary" content="个人博客,陶小松,笑松,笑松小站,笑松的小站,笑松博客,笑松的博客,小松的网络日志,技术博客"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Cache-Control" content="no-cache"><meta http-equiv="Expires" content="0"><link rel="shortcut icon" href="/assets/images/favicon.ico"><link rel="stylesheet" href="/assets/styles/style.css"></head><body><div id="loading" class="active"></div><nav id="menu"><div class="inner flex-row-vertical"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"><i class="icon icon-lg icon-close"></i></a><div class="brand-wrap"><div class="brand"> <a href="/" class="avatar"><img src="/assets/images/logo.png"></a><hgroup class="introduce"><h5 class="nickname"></h5><div class="email">写我喜欢 读我所爱</div></hgroup></div></div><ul class="nav flex-col"><li class="waves-block waves-effect active"><a href="/"><i class="icon icon-lg icon-home"></i> Home</a></li><li class="waves-block waves-effect"><a href="/archives"><i class="icon icon-lg icon-archives"></i> Archives</a></li><li class="waves-block waves-effect"><a href="/tags"><i class="icon icon-lg icon-tags"></i> Tags</a></li><li class="waves-block waves-effect"><a href="/guestbook"><i class="icon icon-lg icon-book"></i> About</a></li><li class="waves-block waves-effect"><a href="/links"><i class="icon icon-lg icon-links"></i> Links</a></li></ul><footer class="footer"><p> <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0;vertical-align:middle" src="/assets/images/cc-by-nc-nd.svg"></a></p><p>笑松小站 &copy; 2014~2017.</p><p>All Rights Reserved.</p><p><a href="/atom.xml" target="_blank" class="rss" style="position:inherit" title="rss"><i class="icon icon-2x icon-rss-square"></i></a><a href="/sitemap.xml" target="_blank" class="sitemap" style="color:#E64A19" title="sitemap"><i class="icon icon-2x icon-sitemap"></i></a></p></footer></div></nav><main id="main"><header class="header" id="header"><div class="flex-row"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"><i class="icon icon-lg icon-navicon"></i></a><div class="flex-col header-title ellipsis">笑松小站</div><div class="search-wrap" id="search-wrap"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i></a> <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"><i class="icon icon-lg icon-search"></i></a></div><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-share"><i class="icon icon-lg icon-share-alt"></i></a></div></header><header class="content-header"><div class="container"><h1 class="author">笑松小站</h1><h5 class="subtitle"> 写我喜欢 读我所爱</h5></div></header><div class="container body-wrap"><ul class="post-list"><li class="post-list-item"><article id="post-mongodb-rs" class="article article-type-post" itemprop="blogPost"><h3 class="post-title" itemprop="name"> <a class="post-title-link" href="/2017/01/11/mongodb-rs/">MongoDB搭建ReplSet复制集群</a></h3><div class="post-meat flex-row"><div class="flex-col"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/">MongoDB</a></li></ul></div> <time datetime="2017-01-10T16:00:00.000Z" itemprop="datePublished" class="post-tiem">2017-01-11</time></div><div class="post-content" id="post-content" itemprop="postContent"><p> MongoDB的复制集是一个主从复制模式 又具有故障转移的集群，任何成员都有可能是<code>master</code>，<br> 当master挂掉用会很快的重新选举一个节点来充当master。</p><p> 复制集中的组成主要成员</p><ul><li>Primary<br> <code>数据读写 master节点</code></li><li>Secondary<br> <code>备份Primary的数据 默认设置下 不可读 不可写</code></li><li>arbiter<br> <code>投票节点 此节点不会存数据 只参与投票 ，当primary节点出现异常挂掉之后 arbiter节点负责从secondary 节点中选举一个节点升级为Primary节点</code></li></ul><p>其中可以设置Secondary节点可读，让Primary节点负责写，这些就实现了一个高效简单的读写分离。<br></p></div><div class="post-footer clearfix"> <a href="/2017/01/11/mongodb-rs/" class="post-more waves-effect waves-button waves-light">阅读更多</a></div></article></li><li class="post-list-item"><article id="post-jdk7-forkjoin" class="article article-type-post" itemprop="blogPost"><h3 class="post-title" itemprop="name"> <a class="post-title-link" href="/2017/01/09/jdk7-forkjoin/">jdk1.7 Fork/Join并行框架学习</a></h3><div class="post-meat flex-row"><div class="flex-col"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fork-Join/">Fork/Join</a></li></ul></div> <time datetime="2017-01-08T16:00:00.000Z" itemprop="datePublished" class="post-tiem">2017-01-09</time></div><div class="post-content" id="post-content" itemprop="postContent"><p> 首先看一下ForkJoin相关的几个API</p><ul><li>ForkJoinPool<br> <code>实现了forkjoin的线程池</code></li><li>ForkJoinWorkerThread<br> <code>forkjoin的线程</code></li><li>ForkJoinTask<br> <code>forkjoin任务的父类 这是一个抽象类</code></li><li>RecursiveAction<br> <code>无返回结果的任务接口</code></li><li>RecursiveTask<br> <code>有返回结果的任务接口</code></li></ul></div><div class="post-footer clearfix"> <a href="/2017/01/09/jdk7-forkjoin/" class="post-more waves-effect waves-button waves-light">阅读更多</a></div></article></li><li class="post-list-item"><article id="post-mongodbCommonoper" class="article article-type-post" itemprop="blogPost"><h3 class="post-title" itemprop="name"> <a class="post-title-link" href="/2017/01/08/mongodbCommonoper/">MongoDB常用操作</a></h3><div class="post-meat flex-row"><div class="flex-col"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/">MongoDB</a></li></ul></div> <time datetime="2017-01-07T16:00:00.000Z" itemprop="datePublished" class="post-tiem">2017-01-08</time></div><div class="post-content" id="post-content" itemprop="postContent"><p> 以下是在3.4.1版本中 其他版本可能略有区别,mongo默认登录时在test数据中。</p><h3 id="数据库相关操作"><a href="#数据库相关操作" class="headerlink" title="数据库相关操作"></a>数据库相关操作</h3><p>登录到数据库</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">bin/mongo --port 27017</div></pre></td></tr></table></figure><p>查看数据库列表</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">show dbs</div></pre></td></tr></table></figure><p>选择使用哪个数据库 类似mysql中的use,使用use后 创建的table默认会在当前使用的数据中</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">use taoxs</div></pre></td></tr></table></figure><p>查看当前使用的数据库使用db或者db.getName()一样的。</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">db </div><div class="line"></div><div class="line">db.getName()</div></pre></td></tr></table></figure></div><div class="post-footer clearfix"> <a href="/2017/01/08/mongodbCommonoper/" class="post-more waves-effect waves-button waves-light">阅读更多</a></div></article></li><li class="post-list-item"><article id="post-nginxMakeInstall" class="article article-type-post" itemprop="blogPost"><h3 class="post-title" itemprop="name"> <a class="post-title-link" href="/2016/11/24/nginxMakeInstall/">nginx编译安装</a></h3><div class="post-meat flex-row"><div class="flex-col"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx/">nginx</a></li></ul></div> <time datetime="2016-11-23T16:00:00.000Z" itemprop="datePublished" class="post-tiem">2016-11-24</time></div><div class="post-content" id="post-content" itemprop="postContent"><p>nginx是比较常用的高性能HTTP服务器和反向代理服务器，许多用户更是把做反向代理使用，<br>常言道：好记性不如烂笔头 时间久了总是有些遗忘，本文记录一下源码编码安装以及常用模块的使用介绍。<br></p></div><div class="post-footer clearfix"> <a href="/2016/11/24/nginxMakeInstall/" class="post-more waves-effect waves-button waves-light">阅读更多</a></div></article></li><li class="post-list-item"><article id="post-rabbitmqInstall" class="article article-type-post" itemprop="blogPost"><h3 class="post-title" itemprop="name"> <a class="post-title-link" href="/2016/10/29/rabbitmqInstall/">rabbitmq安装</a></h3><div class="post-meat flex-row"><div class="flex-col"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rabbitmq/">rabbitmq</a></li></ul></div> <time datetime="2016-10-28T16:00:00.000Z" itemprop="datePublished" class="post-tiem">2016-10-29</time></div><div class="post-content" id="post-content" itemprop="postContent"><h3 id="安装rabbitmq"><a href="#安装rabbitmq" class="headerlink" title="安装rabbitmq"></a>安装rabbitmq</h3><p>采用源码安装方式,首先去官网拉取源代码并解压,由于rabbitmq是采用erlang编写的 所以得先安装erlang环境,这里假设erlang环境已经安装好了。</p><pre><code class="shell">wget http://www.rabbitmq.com/releases/rabbitmq-server/v3.4.0/rabbitmq-server-3.4.0.tar.gz

tar -zxf rabbitmq-server-3.4.0.tar.gz
</code></pre></div><div class="post-footer clearfix"> <a href="/2016/10/29/rabbitmqInstall/" class="post-more waves-effect waves-button waves-light">阅读更多</a></div></article></li><li class="post-list-item"><article id="post-html-emmet" class="article article-type-post" itemprop="blogPost"><h3 class="post-title" itemprop="name"> <a class="post-title-link" href="/2016/10/16/html-emmet/">emmet编写Html</a></h3><div class="post-meat flex-row"><div class="flex-col"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/emmet/">emmet</a></li></ul></div> <time datetime="2016-10-15T16:00:00.000Z" itemprop="datePublished" class="post-tiem">2016-10-16</time></div><div class="post-content" id="post-content" itemprop="postContent"><p> Emmet是一个Web开发人员的工具包，可以大大提高你的HTML和CSS的工作流,这是在<a href="http://docs.emmet.io/" title="Emmet">emmet官方文档</a>中看到的第一句话,当然这句话也简单的概括了它拥有的魅力。</p><p> 下面是在WebStorm中作一些应用。<br></p></div><div class="post-footer clearfix"> <a href="/2016/10/16/html-emmet/" class="post-more waves-effect waves-button waves-light">阅读更多</a></div></article></li><li class="post-list-item"><article id="post-supervisor" class="article article-type-post" itemprop="blogPost"><h3 class="post-title" itemprop="name"> <a class="post-title-link" href="/2016/07/07/supervisor/">supervisor配置和使用</a></h3><div class="post-meat flex-row"><div class="flex-col"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/supervisor/">supervisor</a></li></ul></div> <time datetime="2016-07-06T16:00:00.000Z" itemprop="datePublished" class="post-tiem">2016-07-07</time></div><div class="post-content" id="post-content" itemprop="postContent"><p> supervisor是一个制作守护进程的工具,用户可以在UNIX系统中监控、管理进程。常用于管理与某个用户或项目相关的进程。</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p> 采用源码安装的方式,切换到3.1.3这个版本安装。</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line">git clone https://github.com/Supervisor/supervisor.git</div><div class="line">cd supervisor</div><div class="line">   git checkout 3.1.3</div><div class="line">   python setup.py install</div></pre></td></tr></table></figure></div><div class="post-footer clearfix"> <a href="/2016/07/07/supervisor/" class="post-more waves-effect waves-button waves-light">阅读更多</a></div></article></li><li class="post-list-item"><article id="post-gzip-uzip" class="article article-type-post" itemprop="blogPost"><h3 class="post-title" itemprop="name"> <a class="post-title-link" href="/2016/07/04/gzip-uzip/">gzip 和 zip在linux上的使用</a></h3><div class="post-meat flex-row"><div class="flex-col"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gunzip/">gunzip</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/unzip/">unzip</a></li></ul></div> <time datetime="2016-07-03T16:00:00.000Z" itemprop="datePublished" class="post-tiem">2016-07-04</time></div><div class="post-content" id="post-content" itemprop="postContent"> 文件的压缩/解压无论是在哪个操作系统上都比较常用 简答在这里演示一下。 ##zip zip会把文件打包为.zip格式的文件包，比如 abc.zip zip abc.zip testabc.txt 上面的shell会把testabc.txt压缩在当前目录下的abc.zip文件中 当然你也可以指定压缩到你指定的路径如 zip /opt/abc.zip testabc.txt unzip abc.zip 把abc.zip包解压到当前目录 如需指定解压到其他目录 需要指定-d 参数 如 unzip abc.zip -d /opt/abc ##gzip 从压缩后的压缩包文件格式上与zip命令不同的是gzip压缩后的文件格式为.gz //压缩为文件 abc.txt.gz 会删除原有的abc.txt文件 gzip abc.txt //解压abc.txt.gz 会删除原有的abc.txt.gz文件 gunzip abc.txt.gz //如需要保留原来的压缩文件 需要加-c 参数 // gzip -c abc.txt &gt; /root/abc.gz // gunzip -c /abc.gz &gt; ./abc.txt</div><div class="post-footer clearfix"> <a href="/2016/07/04/gzip-uzip/" class="post-more waves-effect waves-button waves-light">阅读更多</a></div></article></li><li class="post-list-item"><article id="post-docker.install" class="article article-type-post" itemprop="blogPost"><h3 class="post-title" itemprop="name"> <a class="post-title-link" href="/2016/06/18/docker.install/">Hello Docker</a></h3><div class="post-meat flex-row"><div class="flex-col"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/">docker</a></li></ul></div> <time datetime="2016-06-17T16:00:00.000Z" itemprop="datePublished" class="post-tiem">2016-06-18</time></div><div class="post-content" id="post-content" itemprop="postContent"> 接触docker容器有这么几周的时间了,顺便在这里记录一下这段岁月,无特殊说明 操作系统均为 centos7 1、首先安装docker 参考 https://docs.docker.com/linux/step_one/ 检查有没有安装curl 如果没有安装可以使用 apt-get install curl 安装curl,已经安装了则忽略。 which curl 安装最新的版本Docker 执行命令 自动根据自身环境安装 curl -fsSL https://get.docker.com/ | sh 验证安装是否成功 docker version Client: Version: 1.11.2 API version: 1.23 Go version: go1.5.4 Git commit: b9f10c9 Built: Wed Jun 1 21:47:50 2016 OS/Arch: linux/amd64 Server: Version: 1.11.2 API version: 1.23 Go version: go1.5.4 Git commit: b9f10c9 Built: Wed Jun 1 21:47:50 2016 OS/Arch: linux/amd64 输出docker版本号信息 则表示成功 2、运行第一个Docker容器 busybox docker run -it --rm busybox busybox是一个很小的linux系统 只有1M的样子吧,执行完这个命令后 docker会首先检查本地镜像有没有叫busybox,如果没有会去中央仓库拉取（pull）,拉取完成后运行(run) 这个容器,参数-it 表示命令行交互 –rm表示运行结束后立即删除这个容器。 这里有2个概念 pull拉取出来的叫做镜像(image) run运行的叫做容器(container),一个image可以有多个container,镜像有自己的镜像ID ,容器也有自己的容器ID,这里可以描述得不太好，大概就是意思。</div><div class="post-footer clearfix"> <a href="/2016/06/18/docker.install/" class="post-more waves-effect waves-button waves-light">阅读更多</a></div></article></li><li class="post-list-item"><article id="post-ubuntu.networksetting" class="article article-type-post" itemprop="blogPost"><h3 class="post-title" itemprop="name"> <a class="post-title-link" href="/2016/06/17/ubuntu.networksetting/">ubuntu设置网络</a></h3><div class="post-meat flex-row"><div class="flex-col"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ubuntu/">ubuntu</a></li></ul></div> <time datetime="2016-06-16T16:00:00.000Z" itemprop="datePublished" class="post-tiem">2016-06-17</time></div><div class="post-content" id="post-content" itemprop="postContent"> 用惯了centos 偶尔装了一次ubuntu版本为14.04来玩一玩发现设置静态网络(static)后不能上外网，在这里记录一下如何设置的。 1、首页静态IP参数 编辑文件 vim /etc/network/interfaces auto eth0 iface eth0 inet static address 172.168 . 101.245 netmask 255.255 . 255.0 gateway 172.168 . 101.254 nameserver 61.128 . 128.68 设置好后重启网卡 /etc/init.d/networking restart 然而并不能解析DNS 2、配置dns 编辑文件 vim /etc/resolv.conf 根据我所在网络环境设置如下DNS nameserver 114.114 . 114.114 nameserver 61.128 . 128.68 此时 如果有外网 应该是可以ping了</div><div class="post-footer clearfix"> <a href="/2016/06/17/ubuntu.networksetting/" class="post-more waves-effect waves-button waves-light">阅读更多</a></div></article></li></ul><nav id="page-nav"><div class="inner"> <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/">下一页</a></div></nav></div></main><div class="mask" id="mask"></div><a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a><script>var BLOG_SHARE={title:"笑松小站",pic:"/assets/images/logo.png",summary:document.getElementsByName("summary")[0].content,url:"http://blog.seoui.com/index.html"}</script><div class="global-share" id="global-share"><div class="tit">分享到：</div><ul class="reset share-icons"><li><a class="weibo share-sns" href="javascript:;" data-title="微博" data-service="tsina"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns" href="javascript:;" data-title="微信" data-service="weixin"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" href="javascript:;" data-title=" QQ" data-service="cqq"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" href="javascript:;" data-title=" facebook" data-service="fb"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" href="javascript:;" data-title=" Twitter" data-service="twitter"><i class="icon icon-twitter"></i></a></li><li> <a class="douban share-sns" href="javascript:;" data-title="豆瓣" data-service="douban">豆</a></li></ul></div><script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script><script src="/assets/scripts/main.js"></script><div class="search-panel" id="search-panel"><ul class="search-result" id="search-result"></ul></div><script type="text/template" id="search-tpl">
<li class="item">
    <a href="/{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</script><script src="/assets/scripts/search.js"></script><script src="//cdn.bootcss.com/jquery/1.12.3/jquery.min.js"></script><script src="/assets/fancybox/jquery.fancybox.js"></script><script type="text/javascript">var imgArr=$("#post-content img");if(null!=imgArr&&imgArr.length>0){for(var i=0,len=imgArr.length;i<len;i++){var src=imgArr.eq(i).attr("src"),title=imgArr.eq(i).attr("alt");imgArr.eq(i).replaceWith("<a href='"+src+"' title='"+title+"' rel='fancy-group' class='fancy-ctn fancybox'><img src='"+src+"' title='"+title+"'></a>")}$("#post-content .fancy-ctn").fancybox()}var cnzz_protocol="https:"==document.location.protocol?" https://":" http://";document.write(unescape("%3Cspan id='cnzz_stat_icon_1256496591'%3E%3C/span%3E%3Cscript src='"+cnzz_protocol+"s11.cnzz.com/stat.php%3Fid%3D1256496591%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E")),function(){var t=document.createElement("script"),r=window.location.protocol.split(":")[0];"https"===r?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(t,c)}()</script></body></html>